version: '3.8'

services:
  discord-music-bot:
    # Private Registry 이미지 사용
    image: registry.ryein.kim/music-bot:latest
    container_name: discord-music-bot
    restart: unless-stopped
    environment:
      - PYTHONUNBUFFERED=1
      # Option 1: 환경 변수로 설정 (권장 - 보안상 안전)
      # - DISCORD_TOKEN=your_bot_token_here
      # - COMMAND_PREFIX=!
      # - OWNER_ID=your_discord_user_id
    volumes:
      # Option 2: config.json 파일 마운트 (읽기 전용)
      # 환경 변수를 사용하지 않는 경우 아래 주석 해제
      - ./config.json:/app/config.json:ro
      # 로그 파일을 호스트에 마운트
      - ./logs:/app/logs

    # 로컬에서 빌드하려면 아래 주석 해제하고 image 라인 주석 처리
    # build: .

    # 네트워크 설정 (필요시)
    # networks:
    #   - bot-network

# networks:
#   bot-network:
#     driver: bridge

